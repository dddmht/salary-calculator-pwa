<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>工资计算器 PWA</title>
    <link rel="stylesheet" href="styles.css" />
    <link rel="manifest" href="manifest.json" />
    <meta name="theme-color" content="#317EFB" />
    <link
      rel="icon"
      type="image/png"
      sizes="32x32"
      href="images/icon-32x32.png"
    />
    <link
      rel="icon"
      type="image/png"
      sizes="192x192"
      href="images/icon-192x192.png"
    />
  </head>
  <body>
    <div class="container">
      <header>
        <h1>工资计算器</h1>
      </header>

      <main>
        <!-- 用户信息表单 -->
        <section id="user-form-section" class="card">
          <h2>个人信息设置</h2>
          <form id="user-form">
            <div class="form-group">
              <label for="name">名称:</label>
              <input type="text" id="name" required />
            </div>

            <div class="form-group">
              <label for="work-days">每周工作天数:</label>
              <select id="work-days" required>
                <option value="5">5天</option>
                <option value="6">6天</option>
                <option value="7">7天</option>
              </select>
            </div>

            <div class="form-group">
              <label for="start-time">上班时间:</label>
              <input type="time" id="start-time" required value="09:00" />
            </div>

            <div class="form-group">
              <label for="end-time">下班时间:</label>
              <input type="time" id="end-time" required value="18:00" />
            </div>

            <div class="form-group">
              <label for="monthly-salary">月工资 (元):</label>
              <input
                type="number"
                id="monthly-salary"
                required
                min="0"
                step="0.01"
              />
            </div>

            <div class="form-group">
              <label for="payday">发薪日 (每月几号):</label>
              <input type="number" id="payday" required min="1" max="31" />
            </div>

            <button type="submit" class="btn-primary">保存设置</button>
          </form>
        </section>

        <!-- 计算结果显示 -->
        <section id="result-section" class="card hidden">
          <h2>工资计算结果</h2>
          <div id="greeting" class="greeting"></div>

          <div class="stat-card">
            <h3>今日已赚</h3>
            <p id="today-earned" class="big-number">¥0.00</p>
          </div>

          <div class="stat-card">
            <h3>距离下班</h3>
            <p id="off-work-countdown" class="big-number">00:00:00</p>
          </div>

          <div class="stat-card">
            <h3>距离发薪日</h3>
            <p id="payday-countdown" class="big-number">0天</p>
          </div>

          <button id="edit-settings" class="btn-secondary">修改设置</button>
        </section>
      </main>

      <footer>
        <p>©任何解释权归作者所有</p>
      </footer>
    </div>

    <script src="app.js"></script>
    <script>
      // 注册Service Worker
      if ("serviceWorker" in navigator) {
        window.addEventListener("load", () => {
          navigator.serviceWorker
            .register("service-worker.js")
            .then((registration) => {
              console.log("ServiceWorker registration successful");
            })
            .catch((error) => {
              console.log("ServiceWorker registration failed:", error);
            });
        });
      }
    </script>
  </body>
</html>
